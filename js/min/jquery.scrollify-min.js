!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function($){return t($,e,e.document)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),e,e.document):t(jQuery,e,e.document)}("undefined"!=typeof window?window:this,function($,e,t,o){"use strict";function n(){return e.innerHeight+z.offset}function r(t,o,r,s){if(d===t&&(r=!1),T===!0)return!0;if(c[t]){if(S=!1,L===!0&&(L=!1,z.afterRender()),r&&"function"==typeof z.before&&z.before(t,u)===!1)return!0;if(f=1,k=t?a[t]:0,L===!1&&d>t&&s===!1&&l[t]&&(y=n(),f=parseInt(u[t].outerHeight()/y),k=parseInt(a[t])+(u[t].outerHeight()-y)),z.updateHash&&z.sectionName&&(L!==!0||0!==t))if(history.pushState)try{history.replaceState(null,null,c[t])}catch(t){e.console&&console.warn("Scrollify warning: Page must be hosted to manipulate the hash value.")}else e.location.hash=c[t];if(d=t,o)$(z.target).stop().scrollTop(k),r&&z.after(t,u);else{if(E=!0,$().velocity?$(z.target).stop().velocity("scroll",{duration:z.scrollSpeed,easing:z.easing,offset:k,mobileHA:!1}):$(z.target).stop().animate({scrollTop:k},z.scrollSpeed,z.easing),e.location.hash.length&&z.sectionName&&e.console)try{$(e.location.hash).length&&console.warn("Scrollify warning: ID matches hash value - this will cause the page to anchor.")}catch(e){}$(z.target).promise().done(function(){E=!1,L=!1,r&&z.after(t,u)})}}}function s(e){function t(t){for(var o=0,n=e.slice(Math.max(e.length-t,1)),r=0;r<n.length;r++)o+=n[r];return Math.ceil(o/t)}var o=t(10),n=t(70);return o>=n}function i(e,t){for(var o=c.length;o>=0;o--)"string"==typeof e?c[o]===e&&(h=o,r(o,t,!0,!0)):o===e&&(h=o,r(o,t,!0,!0))}var a=[],c=[],u=[],l=[],h=0,d=0,f=1,p=!1,v,m,g=$(e),y,w=g.scrollTop(),S=!1,E=!1,H=!1,b,M,x,T=!1,D=[],I=(new Date).getTime(),L=!0,N=!1,k=0,O="onwheel"in t?"wheel":t.onmousewheel!==o?"mousewheel":"DOMMouseScroll",z={section:".section",sectionName:"section-name",interstitialSection:"",easing:"easeOutExpo",scrollSpeed:1100,offset:0,scrollbars:!0,target:"html,body",standardScrollElements:!1,setHeights:!0,overflowScroll:!0,updateHash:!0,touchScroll:!0,before:function(){},after:function(){},afterResize:function(){},afterRender:function(){}},R=function(o){function i(e){$().velocity?$(z.target).stop().velocity("scroll",{duration:z.scrollSpeed,easing:z.easing,offset:e,mobileHA:!1}):$(z.target).stop().animate({scrollTop:e},z.scrollSpeed,z.easing)}function d(e){e&&(w=g.scrollTop());var t=z.section;l=[],z.interstitialSection.length&&(t+=","+z.interstitialSection),z.scrollbars===!1&&(z.overflowScroll=!1),y=n(),$(t).each(function(e){var t=$(this);z.setHeights?t.is(z.interstitialSection)?l[e]=!1:t.css("height","auto").outerHeight()<y||"hidden"===t.css("overflow")?(t.css({height:y}),l[e]=!1):(t.css({height:t.outerHeight()}),z.overflowScroll?l[e]=!0:l[e]=!1):t.outerHeight()<y||z.overflowScroll===!1?l[e]=!1:l[e]=!0}),e&&g.scrollTop(w)}function L(t,o){var n=z.section;z.interstitialSection.length&&(n+=","+z.interstitialSection),a=[],c=[],u=[],$(n).each(function(t){var o=$(this);t>0?a[t]=parseInt(o.offset().top)+z.offset:a[t]=parseInt(o.offset().top),z.sectionName&&o.data(z.sectionName)?c[t]="#"+o.data(z.sectionName).toString().replace(/ /g,"-"):o.is(z.interstitialSection)===!1?c[t]="#"+(t+1):(c[t]="#",t===$(n).length-1&&t>1&&(a[t]=a[t-1]+(parseInt($($(n)[t-1]).outerHeight())-parseInt($(e).height()))+parseInt(o.outerHeight()))),u[t]=o;try{$(c[t]).length&&e.console&&console.warn("Scrollify warning: Section names can't match IDs - this will cause the browser to anchor.")}catch(e){}e.location.hash===c[t]&&(h=t,p=!0)}),!0===t&&r(h,!1,!1,!1)}function k(){return!l[h]||(w=g.scrollTop(),!(w>parseInt(a[h])))}function R(){return!l[h]||(w=g.scrollTop(),y=n(),!(w<parseInt(a[h])+(u[h].outerHeight()-y)-28))}N=!0,$.easing.easeOutExpo=function(e,t,o,n,r){return t==r?o+n:n*(-Math.pow(2,-10*t/r)+1)+o},b={handleMousedown:function(){return T===!0||(S=!1,void(H=!1))},handleMouseup:function(){return T===!0||(S=!0,void(H&&b.calculateNearest(!1,!0)))},handleScroll:function(){return T===!0||(v&&clearTimeout(v),void(v=setTimeout(function(){return H=!0,S!==!1&&(S=!1,void b.calculateNearest(!1,!0))},200)))},calculateNearest:function(e,t){w=g.scrollTop();for(var o=1,n=a.length,s=0,i=Math.abs(a[0]-w),c;o<n;o++)c=Math.abs(a[o]-w),c<i&&(i=c,s=o);(R()&&s>h||k())&&(h=s,r(s,e,t,!1))},wheelHandler:function(t){if(T===!0)return!0;if(z.standardScrollElements&&($(t.target).is(z.standardScrollElements)||$(t.target).closest(z.standardScrollElements).length))return!0;l[h]||t.preventDefault();var o=(new Date).getTime();t=t||e.event;var n;n=t.originalEvent?t.originalEvent.wheelDelta||-t.originalEvent.deltaY||-t.originalEvent.detail:t.wheelDelta||-t.deltaY||-t.detail;var i=Math.max(-1,Math.min(1,n));if(D.length>149&&D.shift(),D.push(Math.abs(n)),o-I>200&&(D=[]),I=o,E)return!1;if(i<0){if(h<a.length-1&&R()){if(!s(D))return!1;t.preventDefault(),h++,E=!0,r(h,!1,!0,!1)}}else if(i>0&&h>0&&k()){if(!s(D))return!1;t.preventDefault(),h--,E=!0,r(h,!1,!0,!1)}},keyHandler:function(e){return T===!0||t.activeElement.readOnly===!1||(!(!z.standardScrollElements||!$(e.target).is(z.standardScrollElements)&&!$(e.target).closest(z.standardScrollElements).length)||E!==!0&&void(38==e.keyCode||33==e.keyCode?h>0&&k()&&(e.preventDefault(),h--,r(h,!1,!0,!1)):40!=e.keyCode&&34!=e.keyCode||h<a.length-1&&R()&&(e.preventDefault(),h++,r(h,!1,!0,!1))))},init:function(){z.scrollbars?(g.on("mousedown",b.handleMousedown),g.on("mouseup",b.handleMouseup),g.on("scroll",b.handleScroll)):$("body").css({overflow:"hidden"}),e.addEventListener(O,b.wheelHandler,{passive:!1}),g.on("keydown",b.keyHandler)}},M={touches:{touchstart:{y:-1,x:-1},touchmove:{y:-1,x:-1},touchend:!1,direction:"undetermined"},options:{distance:30,timeGap:800,timeStamp:(new Date).getTime()},touchHandler:function(e){if(T===!0)return!0;if(z.standardScrollElements&&($(e.target).is(z.standardScrollElements)||$(e.target).closest(z.standardScrollElements).length))return!0;var t;if("undefined"!=typeof e&&"undefined"!=typeof e.touches)switch(t=e.touches[0],e.type){case"touchstart":M.touches.touchstart.y=t.pageY,M.touches.touchmove.y=-1,M.touches.touchstart.x=t.pageX,M.touches.touchmove.x=-1,M.options.timeStamp=(new Date).getTime(),M.touches.touchend=!1;case"touchmove":M.touches.touchmove.y=t.pageY,M.touches.touchmove.x=t.pageX,M.touches.touchstart.y!==M.touches.touchmove.y&&Math.abs(M.touches.touchstart.y-M.touches.touchmove.y)>Math.abs(M.touches.touchstart.x-M.touches.touchmove.x)&&(e.preventDefault(),M.touches.direction="y",M.options.timeStamp+M.options.timeGap<(new Date).getTime()&&0==M.touches.touchend&&(M.touches.touchend=!0,M.touches.touchstart.y>-1&&Math.abs(M.touches.touchmove.y-M.touches.touchstart.y)>M.options.distance&&(M.touches.touchstart.y<M.touches.touchmove.y?M.up():M.down())));break;case"touchend":M.touches[e.type]===!1&&(M.touches[e.type]=!0,M.touches.touchstart.y>-1&&M.touches.touchmove.y>-1&&"y"===M.touches.direction&&(Math.abs(M.touches.touchmove.y-M.touches.touchstart.y)>M.options.distance&&(M.touches.touchstart.y<M.touches.touchmove.y?M.up():M.down()),M.touches.touchstart.y=-1,M.touches.touchstart.x=-1,M.touches.direction="undetermined"))}},down:function(){h<a.length&&(R()&&h<a.length-1?(h++,r(h,!1,!0,!1)):(y=n(),Math.floor(u[h].height()/y)>f?(i(parseInt(a[h])+y*f),f+=1):i(parseInt(a[h])+(u[h].outerHeight()-y))))},up:function(){h>=0&&(k()&&h>0?(h--,r(h,!1,!0,!1)):f>2?(y=n(),f-=1,i(parseInt(a[h])+y*f)):(f=1,i(parseInt(a[h]))))},init:function(){if(t.addEventListener&&z.touchScroll){var e={passive:!1};t.addEventListener("touchstart",M.touchHandler,e),t.addEventListener("touchmove",M.touchHandler,e),t.addEventListener("touchend",M.touchHandler,e)}}},x={refresh:function(e,t){clearTimeout(m),m=setTimeout(function(){d(!0),L(t,!1),e&&z.afterResize()},400)},handleUpdate:function(){x.refresh(!1,!1)},handleResize:function(){x.refresh(!0,!1)},handleOrientation:function(){x.refresh(!0,!0)}},z=$.extend(z,o),d(!1),L(!1,!0),!0===p?r(h,!1,!0,!0):setTimeout(function(){b.calculateNearest(!0,!1)},200),a.length&&(b.init(),M.init(),g.on("resize",x.handleResize),t.addEventListener&&e.addEventListener("orientationchange",x.handleOrientation,!1))};return R.move=function(e){return e!==o&&(e.originalEvent&&(e=$(this).attr("href")),void i(e,!1))},R.instantMove=function(e){return e!==o&&void i(e,!0)},R.next=function(){h<c.length&&(h+=1,r(h,!1,!0,!0))},R.previous=function(){h>0&&(h-=1,r(h,!1,!0,!0))},R.instantNext=function(){h<c.length&&(h+=1,r(h,!0,!0,!0))},R.instantPrevious=function(){h>0&&(h-=1,r(h,!0,!0,!0))},R.destroy=function(){return!!N&&(z.setHeights&&$(z.section).each(function(){$(this).css("height","auto")}),g.off("resize",x.handleResize),z.scrollbars&&(g.off("mousedown",b.handleMousedown),g.off("mouseup",b.handleMouseup),g.off("scroll",b.handleScroll)),e.removeEventListener(O,b.wheelHandler),g.off("keydown",b.keyHandler),t.addEventListener&&z.touchScroll&&(t.removeEventListener("touchstart",M.touchHandler,!1),t.removeEventListener("touchmove",M.touchHandler,!1),t.removeEventListener("touchend",M.touchHandler,!1)),a=[],c=[],u=[],l=[],L=!0,void(N=!1))},R.update=function(){return!!N&&void x.handleUpdate()},R.current=function(){return u[h]},R.currentIndex=function(){return h},R.disable=function(){T=!0},R.enable=function(){T=!1,N&&b.calculateNearest(!1,!1)},R.isDisabled=function(){return T},R.setOptions=function(t){return!!N&&void("object"==typeof t?(z=$.extend(z,t),x.handleUpdate()):e.console&&console.warn("Scrollify warning: setOptions expects an object."))},$.scrollify=R,R});